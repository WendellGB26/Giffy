(this.webpackJsonpgiffy=this.webpackJsonpgiffy||[]).push([[0],[,,,,,function(e,t,n){},,,function(e,t,n){},,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),r=n(9),a=n.n(r),s=(n(16),n(2)),o=(n.p,n(5),n(8),n(3)),j="SCHPleGPC5IblXjbANaj8MjPnXi2jwTc",l="18";function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.page,n=void 0===t?0:t,c=e.keyword,i=void 0===c?"Rick":c,r="https://api.giphy.com/v1/gifs/search?api_key=".concat(j,"&q=").concat(i,"&limit=").concat(l,"&offset=").concat(n*l,"&rating=g&lang=en");return fetch(r).then((function(e){return e.json()})).then((function(e){var t=e.data;if(Array.isArray(t))return t.map((function(e){var t=e.images;return{title:e.title,id:e.id,url:t.downsized_medium.url}}))}))}var d=n(0),f=i.a.createContext({});function b(e){var t=e.children,n=Object(c.useState)([]),i=Object(s.a)(n,2),r=i[0],a=i[1];return Object(d.jsx)(f.Provider,{value:{gifs:r,setGifs:a},children:t})}var O=f;function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{keyword:null},t=e.keyword,n=Object(c.useContext)(O),i=n.gifs,r=n.setGifs,a=Object(c.useState)(!1),o=Object(s.a)(a,2),j=o[0],l=o[1],d=Object(c.useState)(!1),f=Object(s.a)(d,2),b=f[0],h=f[1],g=Object(c.useState)(0),x=Object(s.a)(g,2),m=x[0],v=x[1],p=t||localStorage.getItem("lastKeyword")||"random";return Object(c.useEffect)((function(){l(!0),u({keyword:p}).then((function(e){return r(e)})),l(!1),localStorage.setItem("lastKeyword",t)}),[t]),Object(c.useEffect)((function(){0!=m&&(h(!0),u({keyword:p,page:m}).then((function(e){r((function(t){return t.concat(e)})),h(!1)})))}),[m]),{loading:j,loadingNextPage:b,gifs:i,setPage:v}}var g=n(10),x=n.n(g);function m(e){var t=h({keyword:e.params.keyword}),i=t.loading,r=t.gifs,a=t.setPage,o=Object(c.useRef)(),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.distance,i=void 0===t?"100px":t,r=e.externalRef,a=e.once,o=void 0===a||a,j=Object(c.useState)(!1),l=Object(s.a)(j,2),u=l[0],d=l[1],f=Object(c.useRef)();return Object(c.useEffect)((function(){var e,t=r?r.current:f.current,c=function(e,t){e[0].isIntersecting?(d(!0),o&&t.disconnect()):!o&&d(!1)};return Promise.resolve("undefined"!==typeof IntersectionObserver?IntersectionObserver:n.e(3).then(n.t.bind(null,22,7))).then((function(){e=new IntersectionObserver(c,{rootMargin:i}),t&&e.observe(t)})),function(){return e&&e.disconnect()}})),{isNearScreen:u,fromRef:f}}({externalRef:i?null:o,once:!1}),l=j.isNearScreen,u=Object(c.useCallback)(x()((function(){return a((function(e){return e+1}))}),500),[]);return Object(c.useEffect)((function(){console.log(l),l&&u()}),[u,l]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("br",{}),Object(d.jsx)(p,{gifs:r}),Object(d.jsx)("div",{id:"visor",ref:o})]})}function v(e){var t=e.title,n=e.url,c=e.id;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("section",{className:"col-4",children:Object(d.jsxs)(o.a,{href:"gif/".concat(c),className:"Gif-link Gif Gif-Container",children:[Object(d.jsx)("img",{loading:"lazy",alt:t,src:n}),Object(d.jsx)("h4",{children:t})]})})})}n(18);function p(e){var t=e.gifs;return Object(d.jsx)("div",{className:"row",children:t.map((function(e){var t=e.id,n=e.title,c=e.url;return Object(d.jsx)(v,{id:t,title:n,url:c},t)}))})}n(19);var N=["Naruto","Suits","Scary","Memes"];function S(){return Object(d.jsx)(d.Fragment,{children:N.map((function(e){return Object(d.jsx)("li",{className:"text-left",children:Object(d.jsx)(o.a,{to:"/gif/".concat(e),children:e})},e)}))})}var y=["Perros","Gatos"];function k(){return Object(d.jsx)(d.Fragment,{children:y.map((function(e){return Object(d.jsx)("li",{className:"text-left",children:Object(d.jsx)(o.a,{to:"/gif/".concat(e),children:e})},e)}))})}function w(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(o.c)(),a=Object(s.a)(r,2),j=(a[0],a[1]),l=h([]),u=(l.loading,l.gifs),f=function(e){i(e.target.value)};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j("/gif/".concat(n))},children:[Object(d.jsx)("input",{placeholder:"Search the gif...",onChange:f,type:"text",value:n}),Object(d.jsx)("button",{onClick:f,value:n,children:"Search"})]}),Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-md-8",children:Object(d.jsxs)("div",{className:"Last-Search",children:[Object(d.jsx)("h3",{className:"App-title",children:"Ultima Busqueda"}),Object(d.jsx)(p,{gifs:u})]})}),Object(d.jsx)("div",{className:"col-md-4",children:Object(d.jsxs)("div",{className:"Popular-Links",children:[Object(d.jsx)("h3",{className:"App-title",children:"Los GIFS mas populares"}),Object(d.jsx)(S,{}),Object(d.jsx)("h3",{className:"App-title",children:"GIFS de mascotas"}),Object(d.jsx)(k,{})]})})]})})]})}var C=n.p+"static/media/Logo.a9983596.png",P=n(11);n(20);function I(e){var t=e.params,n=Object(c.useContext)(O).gifs.find((function(e){return e.id==t.id}));return Object(d.jsx)("div",{className:"Gif-Info",children:Object(d.jsx)(v,Object(P.a)({},n))})}var F=i.a.createContext({name:"midudev"});var G=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2);return t[0],t[1],Object(d.jsx)(F.Provider,{value:{name:"midudev"},children:Object(d.jsxs)("div",{className:"App-content",children:[Object(d.jsx)("div",{children:Object(d.jsx)(o.a,{to:"/",children:Object(d.jsx)("img",{className:"Logo",src:C})})}),Object(d.jsx)("section",{className:"App-link text-center",children:Object(d.jsxs)(b,{children:[Object(d.jsx)(o.b,{component:w,path:"/"}),Object(d.jsx)(o.b,{component:m,path:"/gif/:keyword"}),Object(d.jsx)(o.b,{component:I,path:"/gif/gif/:id"})]})})]})})},A=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,23)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),r(e),a(e)}))};a.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(G,{})}),document.getElementById("root")),A()}],[[21,1,2]]]);
//# sourceMappingURL=main.100e0faa.chunk.js.map