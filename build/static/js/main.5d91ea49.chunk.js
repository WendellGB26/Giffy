(this.webpackJsonpgiffy=this.webpackJsonpgiffy||[]).push([[0],[,,,,,function(e,t,n){},,,function(e,t,n){},,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(9),a=n.n(i),s=(n(16),n(2)),o=(n.p,n(5),n(8),n(3)),j="SCHPleGPC5IblXjbANaj8MjPnXi2jwTc",l="18";function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.page,n=void 0===t?0:t,c=e.keyword,r=void 0===c?"Rick":c,i="https://api.giphy.com/v1/gifs/search?api_key=".concat(j,"&q=").concat(r,"&limit=").concat(l,"&offset=").concat(n*l,"&rating=g&lang=en");return fetch(i).then((function(e){return e.json()})).then((function(e){var t=e.data;if(Array.isArray(t))return t.map((function(e){var t=e.images;return{title:e.title,id:e.id,url:t.downsized_medium.url}}))}))}var d=n(0),f=r.a.createContext({});function b(e){var t=e.children,n=Object(c.useState)([]),r=Object(s.a)(n,2),i=r[0],a=r[1];return Object(d.jsx)(f.Provider,{value:{gifs:i,setGifs:a},children:t})}var O=f;function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{keyword:null},t=e.keyword,n=Object(c.useContext)(O),r=n.gifs,i=n.setGifs,a=Object(c.useState)(!1),o=Object(s.a)(a,2),j=o[0],l=o[1],d=Object(c.useState)(!1),f=Object(s.a)(d,2),b=f[0],h=f[1],m=Object(c.useState)(0),v=Object(s.a)(m,2),g=v[0],x=v[1],p=t||localStorage.getItem("lastKeyword")||"random";return Object(c.useEffect)((function(){l(!0),u({keyword:p}).then((function(e){return i(e)})),l(!1),localStorage.setItem("lastKeyword",t)}),[t]),Object(c.useEffect)((function(){0!=g&&(h(!0),u({keyword:p,page:g}).then((function(e){i((function(t){return t.concat(e)})),h(!1)})))}),[g]),{loading:j,loadingNextPage:b,gifs:r,setPage:x}}var m=n(10),v=n.n(m);function g(e){var t=h({keyword:e.params.keyword}),r=t.loading,i=t.gifs,a=t.setPage,o=Object(c.useRef)(),j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.distance,r=void 0===t?"100px":t,i=e.externalRef,a=e.once,o=void 0===a||a,j=Object(c.useState)(!1),l=Object(s.a)(j,2),u=l[0],d=l[1],f=Object(c.useRef)();return Object(c.useEffect)((function(){var e,t=i?i.current:f.current,c=function(e,t){e[0].isIntersecting?(d(!0),o&&t.disconnect()):!o&&d(!1)};return Promise.resolve("undefined"!==typeof IntersectionObserver?IntersectionObserver:n.e(3).then(n.t.bind(null,22,7))).then((function(){e=new IntersectionObserver(c,{rootMargin:r}),t&&e.observe(t)})),function(){return e&&e.disconnect()}})),{isNearScreen:u,fromRef:f}}({externalRef:r?null:o,once:!1}),l=j.isNearScreen,u=Object(c.useCallback)(v()((function(){return a((function(e){return e+1}))}),500),[]);return Object(c.useEffect)((function(){console.log(l),l&&u()}),[u,l]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("br",{}),Object(d.jsx)(S,{gifs:i}),Object(d.jsx)("div",{id:"visor",ref:o})]})}function x(e){var t=e.title,n=e.url,c=e.id;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("section",{className:"col-4",children:Object(d.jsxs)(o.a,{href:"gif/".concat(c),className:"Gif-link Gif Gif-Container",children:[Object(d.jsx)("img",{loading:"lazy",alt:t,src:n}),Object(d.jsx)("h4",{children:t})]})})})}var p=r.a.memo(x,(function(e,t){return e.id==t.id}));n(18);function S(e){var t=e.gifs;return Object(d.jsx)("div",{className:"row",children:t.map((function(e){var t=e.id,n=e.title,c=e.url;return Object(d.jsx)(p,{id:t,title:n,url:c},t)}))})}n(19);var y=["Naruto","Suits","Scary","Memes"];function N(){return Object(d.jsx)(d.Fragment,{children:y.map((function(e){return Object(d.jsx)("li",{className:"text-left",children:Object(d.jsx)(o.a,{to:"/gif/".concat(e),children:e})},e)}))})}var k=["Perros","Gatos"];function w(){return Object(d.jsx)(d.Fragment,{children:k.map((function(e){return Object(d.jsx)("li",{className:"text-left",children:Object(d.jsx)(o.a,{to:"/gif/".concat(e),children:e})},e)}))})}function C(e){var t=e.handleSubmit,n=Object(c.useState)(""),r=Object(s.a)(n,2),i=r[0],a=r[1],o=function(e){a(e.target.value)};return Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({keyword:i})},children:[Object(d.jsx)("input",{placeholder:"Search the gif...",onChange:o,type:"text",value:i}),Object(d.jsx)("button",{onClick:o,value:i,children:"Search"})]})}var P=r.a.memo(C);function I(){var e=Object(o.c)(),t=Object(s.a)(e,2),n=(t[0],t[1]),r=h([]),i=(r.loading,r.gifs),a=Object(c.useCallback)((function(e){var t=e.keyword;n("/gif/".concat(t))}),[n]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(P,{handleSubmit:a}),Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-md-8",children:Object(d.jsxs)("div",{className:"Last-Search",children:[Object(d.jsx)("h3",{className:"App-title",children:"Ultima Busqueda"}),Object(d.jsx)(S,{gifs:i})]})}),Object(d.jsx)("div",{className:"col-md-4",children:Object(d.jsxs)("div",{className:"Popular-Links",children:[Object(d.jsx)("h3",{className:"App-title",children:"Los GIFS mas populares"}),Object(d.jsx)(N,{}),Object(d.jsx)("h3",{className:"App-title",children:"GIFS de mascotas"}),Object(d.jsx)(w,{})]})})]})})]})}var F=n.p+"static/media/Logo.a9983596.png",G=n(11);n(20);function A(e){var t=e.params,n=Object(c.useContext)(O).gifs.find((function(e){return e.id==t.id}));return Object(d.jsx)("div",{className:"Gif-Info",children:Object(d.jsx)(p,Object(G.a)({},n))})}var L=r.a.createContext({name:"midudev"});var R=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2);return t[0],t[1],Object(d.jsx)(L.Provider,{value:{name:"midudev"},children:Object(d.jsxs)("div",{className:"App-content",children:[Object(d.jsx)("div",{children:Object(d.jsx)(o.a,{to:"/",children:Object(d.jsx)("img",{className:"Logo",src:F})})}),Object(d.jsx)("section",{className:"App-link text-center",children:Object(d.jsxs)(b,{children:[Object(d.jsx)(o.b,{component:I,path:"/"}),Object(d.jsx)(o.b,{component:g,path:"/gif/:keyword"}),Object(d.jsx)(o.b,{component:A,path:"/gif/gif/:id"})]})})]})})},E=function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,23)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))};a.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(R,{})}),document.getElementById("root")),E()}],[[21,1,2]]]);
//# sourceMappingURL=main.5d91ea49.chunk.js.map